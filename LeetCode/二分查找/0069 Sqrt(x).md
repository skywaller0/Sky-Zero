# [69. Sqrt(x)](https://leetcode.com/problems/sqrtx/)

使用二分查找的方法来求解平方根。二分查找是一种在有序的数组中查找目标值的算法，它每次将搜索区间缩小一半，直到找到目标值或者搜索区间为空为止。具体来说，如果要在一个有序的数组中查找一个值v，就可以从数组的中间位置开始，比较v和中间位置的值，如果相等，就找到了；如果v小于中间位置的值，就说明v在左半区间；如果v大于中间位置的值，就说明v在右半区间。然后在相应的区间继续重复这个过程，直到找到v或者区间为空为止。

在这个问题中，要求解x的平方根，也就是满足y^2<=x的最大整数y。所以，可以将y看作是一个有序数组[0,x]中的一个元素，然后用二分查找的方法来寻找它。代码中使用两个变量l和r来表示搜索区间的左右边界，初始时为0和x。然后不断进行以下操作：

- 计算搜索区间的中点mid，即(l+r+1)/2。
- 如果mid*mid大于x，说明y在左半区间，就将右边界r更新为mid-1。
- 否则，说明y在右半区间或者等于mid，就将左边界l更新为mid。

当l小于r时，继续循环这个过程。当l等于r时，说明搜索区间只剩下一个元素，也就是y。最后返回l作为答案。

```c++
#include <iostream> // 引入输入输出流头文件
using namespace std; // 使用标准命名空间

// 定义一个函数，接受一个整数x，返回它的平方根的整数部分
int mySqrt(int x) {
    int l = 0, r = x; // 定义两个变量l和r，分别表示搜索区间的左右边界，初始时为0和x
    while (l < r) { // 当l小于r时，继续循环
        long long mid = (long long)l + r + 1 >> 1; // 计算搜索区间的中点，并转换为long long类型
        if (mid * mid > x) { // 如果中点的平方大于x，说明答案在左半区间
            r = mid - 1; // 将右边界更新为中点减一
        } else { // 否则，说明答案在右半区间
            l = mid; // 将左边界更新为中点
        }
    }
    return l; // 返回左边界作为答案
}

// 主函数
int main() {
    int x = 8; // 定义一个整数变量x，并赋值为8
    cout << mySqrt(x) << endl; // 调用mySqrt函数，并将结果输出到标准输出流，换行
    return 0; // 返回0，表示程序正常结束
}
```
执行用时：0 ms, 在所有 C++ 提交中击败了100.00%的用户

内存消耗：5.9 MB, 在所有 C++ 提交中击败了14.00%的用户

通过测试用例：1017 / 1017


```go
package main // 声明包名为main

import "fmt" // 引入fmt包，用于格式化输入输出

// 定义一个函数，接受一个整数x，返回它的平方根的整数部分
func mySqrt(x int) int {
	l, r := 0, x // 定义两个变量l和r，分别表示搜索区间的左右边界，初始时为0和x
	for l < r { // 当l小于r时，继续循环
		mid := (l + r + 1) / 2 // 计算搜索区间的中点
		if mid*mid > x { // 如果中点的平方大于x，说明答案在左半区间
			r = mid - 1 // 将右边界更新为中点减一
		} else { // 否则，说明答案在右半区间或者等于mid
			l = mid // 将左边界更新为中点
		}
	}
	return l // 返回左边界作为答案
}

// 主函数
func main() {
	fmt.Println(mySqrt(8)) // 调用mySqrt函数，并将结果输出到标准输出流，换行
}
```
执行用时：0 ms, 在所有 Go 提交中击败了100.00%的用户

内存消耗：2 MB, 在所有 Go 提交中击败了99.91%的用户

通过测试用例：1017 / 1017


需要注意：
计算搜索区间的中点mid是(l+r+1)/2的原因是，这样可以保证mid总是向上取整，也就是在l和r相等或者相邻的情况下，mid总是等于r。这样可以避免出现死循环的情况，比如当l=2，r=3时，如果使用(l+r)/2来计算mid，那么mid就等于2，然后l又被更新为2，导致区间没有缩小。而如果使用(l+r+1)/2来计算mid，那么mid就等于3，然后r被更新为2，区间就缩小了。
